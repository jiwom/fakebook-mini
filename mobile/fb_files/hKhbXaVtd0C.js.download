if (self.CavalryLogger) { CavalryLogger.start_js(["PZH9+"]); }

__d("FBFeedLocations",[],(function a(b,c,d,e,f,g){f.exports={NEWSFEED:1,GROUP:2,GROUP_PERMALINK:3,COMMUNITY:4,PERMALINK:5,SHARE_OVERLAY:6,PERMALINK_STREAM:7,GROUP_PINNED:8,FRIEND_LIST:9,TIMELINE:10,HASHTAG_FEED:11,TOPIC_FEED:12,PAGE:13,NOTIFICATION_FEED:14,GROUP_REPORTED:15,GROUP_PENDING:16,PAGES_FEED_IN_PAGES_MANAGER:17,TICKER_CLASSIC:18,PAGES_SUGGESTED_FEED_IN_PAGES_MANAGER:19,SEARCH:20,GROUP_SEARCH:21,NO_ATTACHMENT:22,EMBED:23,EMBED_FEED:24,ATTACHMENT_PREVIEW:25,STORIES_TO_SHARE:26,PROMPT_PERMALINK:27,TREND_HOVERCARD:28,OPEN_GRAPH_PREVIEW:30,HOTPOST_IN_PAGES_FEED:31,SCHEDULED_POSTS:32,TIMELINE_NOTES:33,PAGE_INSIGHTS:34,COMMENT_ATTACHMENT:35,PAGE_TIMELINE:36,GOODWILL_THROWBACK_PERMALINK:37,LIKE_CONFIRM:39,GOODWILL_THROWBACK_PROMOTION:40,SPACES_FEED:41,BROWSE_CONSOLE:42,GROUP_FOR_SALE_COMPACT:43,ENTITY_FEED:44,GROUP_FOR_SALE_DISCUSSION:45,PAGES_CONTENT_TAB_PREVIEW:46,GOODWILL_THROWBACK_SHARE:47,TIMELINE_VIDEO_SHARES:48,EVENT:49,PAGE_PLUGIN:50,SRT:51,PAGES_CONTENT_TAB_INSIGHTS:52,ADS_PE_CONTENT_TAB_INSIGHTS:53,PAGE_ACTIVITY_FEED:54,VIDEO_CHANNEL:55,POST_TO_PAGE:56,GROUPS_GSYM_HOVERCARD:57,GROUP_POST_TOPIC_FEED:58,FEED_SURVEY:59,PAGES_MODERATION:60,SAVED_DASHBOARD:61,PULSE_SEARCH:62,GROUP_NUX:63,GROUP_NUX_POST_VIEW:64,EVENT_PERMALINK:65,FUNDRAISER_PAGE:66,EXPLORE_FEED:67,CRT:68,REVIEWS_FEED:69,VIDEO_HOME_CHANNEL:70,NEWS:71,TIMELINE_FRIENDSHIP:72,SAVED_REMINDERS:73,PSYM:74,ADMIN_FEED:75,CAMPFIRE_NOTE:76,PAGES_CONTEXT_CARD:77,ACTIVITY_LOG:78,WALL_POST_REPORT:79,TIMELINE_BREAKUP:80,POLITICIANS_FEED:81,PRODUCT_DETAILS:82,SPORTS_PLAY_FEED:83,GROUP_TOP_STORIES:84,PAGE_TIMELINE_PERMALINK:86,OFFERS_WALLET:87,INSTREAM_VIDEO_IN_LIVE:88,SPOTLIGHT:89,SEARCH_DERP:90,SOCIAL_BALLOT:91,GROUP_SUGGESTIONS_WITH_STORY:92,SOCIAL_BALLOT_PERMALINK:93,LOCAL_SERP:94,FUNDRAISER_SELF_DONATION_FEED:95,MY_ACTIVITY:96,CONVERSATION_NUB:97,GROUP_TOP_SALE_STORIES:98,GROUP_LEARNING_COURSE_UNIT_FEED:99,SUPPORT_INBOX_READ_TIME_BLOCK:100,PAGE_POSTS_CARD:101,CRISIS_POST:102,SUPPORT_INBOX_GROUP_RESPONSIBLE:103,PAGE_POST_DIALOG:104,CRISIS_DIALOG_POST:105,PAGE_LIVE_VIDEOS_CARD:106,PAGE_POSTS_CARD_COMPACT:107,GROUP_MEMBER_BIO_FEED:108,LIVE_COMMENT_ATTACHMENT:109,GROUP_COMPOSER:110,GROUP_INBOX_GROUP:111,GROUP_INBOX_AGGREGATED:112,ENDORSEMENTS:113,EVENTS_DASHBOARD:114,CURATED_COLLECTIONS_PAGE:115};}),null);
__d("MFirefoxAppDetect",[],(function a(b,c,d,e,f,g){function h(i,j){if(!navigator.mozApps){j();return;}if(window.locationbar&&!window.locationbar.visible){i();return;}if(navigator.mozApps.getSelf){var k=navigator.mozApps.getSelf();k.onsuccess=function(){k.result?i():j();};k.onerror=j;}else j();}g.isFirefoxApp=h;}),null);
__d('MPageHeaderLeft',['$','DOM','MFirefoxAppDetect'],(function a(b,c,d,e,f,g,h,i,j){var k={};function l(n){if(!k.back_button){var o=h('page');k.back_button=i.find(o,'a','back-button');k.menu_button=i.find(o,'a','menu-link');}if(n.show_back_button){i.hide(k.menu_button);i.show(k.back_button);}else{i.hide(k.back_button);i.show(k.menu_button);}}var m=function n(o){var p=window.navigator;if(p.standalone||k.isMozApp){l(o);}else if(k.isMozApp===undefined){k.lastConfig=o;j.isFirefoxApp(function q(){k.isMozApp=true;if(o===k.lastConfig){n(o);delete k.lastConfig;}},function q(){k.isMozApp=false;});}};g.main=m;}),null);
__d('MUFICommentReplyLink',['DOM','MAjaxify','MParent','MRequest','MUFIConfig','MUFIInlineRepliesFunnelLogConfig','Stratcom','SubscriptionsHandler','ge'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q='feed-ufi-comments',r=m.MUFIInlineReplyComposerFunnelLogger;function s(v){var w=v.composerID,x=v.placeholderID,y=v.node,z=v.loadComposerURI,aa=v.loggingTargetFBID;if(l.canReactToComment){if(y.href)y.setAttribute('data-uri',y.href);y.removeAttribute('href');}var ba=new o();ba.addSubscriptions(h.listen(y,'click',null,function(event){u({composerID:w,placeholderID:x,loadComposerURI:z,loggingTargetFBID:aa,onPreventDefault:function ca(){event.prevent();}});}),h.listen(y,'mousedown',null,function(event){n.invoke('MCommentComposer:replyButtonClick',null,{composerID:w});}),n.listen('m:page:unload',null,function(){ba.release();}),n.listen('m:feed-ufi-flyout:reset',null,function(){ba.release();}));}function t(v){var w=new o();w.addSubscriptions(n.listen('obj:finally',null,function(x){var y=h.scry(v,'*','mufi-composer')[0];y&&y.focus&&y.focus();w.release();}));}function u(v){var w=v.composerID,x=v.placeholderID,y=v.loadComposerURI,z=v.loggingTargetFBID,aa=v.onPreventDefault;if(z&&r)r.logReplyClicked(z);var ba=p(w),ca=ba&&h.scry(ba,'*','mufi-composer')[0];if(ca){aa();if(j.bySigil(ba,q)){n.invoke('MUFICommentReplyLink:show-inline-composer',null,{composerRoot:ba});}else ca.focus();return;}var da=p(x);if(da&&y){aa();i.ajaxify(null,da,new k(y),null);return;}}f.exports={initInlineReplies:s,focusOrLoadInlineReplyComposer:u,bindFocusInlineReplyComposerAfterPageFinish:t};}),null);
__d('MHome',['Stratcom'],(function a(b,c,d,e,f,g,h){function i(){h.listen('m:page:unload',null,function(j){h.invoke('m:homepage:unload');h.removeCurrentListener();});h.invoke('m:homepage:load');}f.exports={init:i};}),null);
__d("Time",[],(function a(b,c,d,e,f,g){var h={getGMTOffset:function i(j){var k=new Date(),l=k.getTimezoneOffset()/30,m=k.getTime()/1000,n=Math.round((j-m)/1800),o=Math.round(l+n)%48;if(o>24){o-=Math.ceil(o/48)*48;}else if(o<-28)o+=Math.ceil(o/-48)*48;return o*30;}};f.exports=h;}),null);
__d('TypeaheadNormalizer',[],(function a(b,c,d,e,f,g){var h={normalize:function i(j){return (''+j).toLocaleLowerCase().replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,'').replace(/ +/g,' ').replace(/^\s*|\s*$/g,'');}};f.exports=h;}),null);
__d('TypeaheadInternationalNormalizer',['TypeaheadNormalizer'],(function a(b,c,d,e,f,g,h){var i={normalize:function j(k){var l=i._charmap;return h.normalize(k).replace(/[\u00e0-\u0450]/g,function(m){return m in l?l[m]:m;});},_charmap:{'\u00e0':'a','\u00e1':'a','\u00e2':'a','\u00e3':'a','\u00e4':'a','\u00e5':'a','\u00e6':'ae','\u00e7':'c','\u00e8':'e','\u00e9':'e','\u00ea':'e','\u00eb':'e','\u00ec':'i','\u00ed':'i','\u00ee':'i','\u00ef':'i','\u00f0':'d','\u00f1':'n','\u00f2':'o','\u00f3':'o','\u00f4':'o','\u00f5':'o','\u00f6':'o','\u00f8':'o','\u00f9':'u','\u00fa':'u','\u00fb':'u','\u00fc':'u','\u00fd':'y','\u00ff':'y','\u0153':'oe','\u0430':'a','\u0431':'b','\u0432':'v','\u0433':'g','\u0434':'d','\u0435':'e','\u0437':'z','\u0438':'i','\u0439':'j','\u043a':'k','\u043b':'l','\u043c':'m','\u043d':'n','\u043e':'o','\u043f':'p','\u0440':'r','\u0441':'s','\u0442':'t','\u0443':'u','\u0444':'f','\u0445':'h','\u0446':'c','\u0447':'ch','\u0448':'sh','\u044b':'y','\u044d':'e','\u044e':'u','\u044f':'ya'}};f.exports=i;}),null);
__d('TypeaheadSource',['DOM','TypeaheadNormalizer','createDeprecatedProperties','eventsMixinDeprecated','ex'],(function a(b,c,d,e,f,g,h,i,j,k,l){function m(n){'use strict';n=n||{};this.disableLongerQueryCacheHit=n.disableLongerQueryCacheHit;this._raw={};this._lookup={};this._firstSeenOnValue={};this.setNormalizer(i.normalize);this._excludeIDs={};}m.prototype.bindToTypeahead=function(n){'use strict';this._changeListener=n.listen('change',this.didChange.bind(this));this._startListener=n.listen('start',this.didStart.bind(this));this._clearListener=n.listen('clear',this.didClear.bind(this));};m.prototype.unbindFromTypeahead=function(){'use strict';this._changeListener.remove();this._startListener.remove();this._clearListener.remove();this._clearListener=null;};m.prototype.didChange=function(n){'use strict';return;};m.prototype.didStart=function(){'use strict';return;};m.prototype.didClear=function(){'use strict';return;};m.prototype.clearCache=function(){'use strict';this._raw={};this._lookup={};};m.prototype.addExcludeID=function(n){'use strict';if(n)this._excludeIDs[n]=true;};m.prototype.removeExcludeID=function(n){'use strict';if(n)delete this._excludeIDs[n];};m.prototype.addResult=function(n,o){'use strict';n=(this.getTransformer()||this._defaultTransformer)(n);if(n.id in this._raw)return;this._raw[n.id]=n;this._firstSeenOnValue[n.id]=this._firstSeenOnValue[n.id]||o;var p=this.tokenize(n.tokenizable||n.name);for(var q=0;q<p.length;++q){this._lookup[p[q]]=this._lookup[p[q]]||[];if(Object.prototype.toString.call(this._lookup[p[q]])!=='[object Array]')throw new Error(l('Lookup entry was not an array. key: %s. value: %s',p[q],this._lookup[p[q]]));this._lookup[p[q]].push(n.id);}};m.prototype.waitForResults=function(){'use strict';this.invoke('waiting');return this;};m.prototype.getResult=function(n){'use strict';return this._raw[n];};m.prototype.emptyResults=function(){'use strict';return [];};m.prototype.getMatchedResults=function(n){'use strict';var o=[];if(n===''){o=this.emptyResults();}else{var p=n,q={},r={},s={},t={},u=this.getQueryExtractor();if(u)n=u(n);var v=this.tokenize(n),w=v[v.length-1];v.sort(function(fa,ga){return ga.length-fa.length;});for(var x=0;x<v.length;++x){if(v[x] in t){v.splice(x--,1);continue;}t[v[x]]=true;var y=v[x];for(var z in this._lookup){var aa=this.checkFragmentMatches(z,y,p,w);if(aa){if(!(z in s)){s[z]=true;}else continue;var ba=this._lookup[z];for(var ca=0;ca<ba.length;++ca){var da=ba[ca];if(!r[da])r[da]={};if(!(y in r[da])){r[da][y]=true;q[da]=(q[da]||0)+1;}}}}}for(var ea in q)if(q[ea]==v.length&&!this._excludeIDs[ea]&&(!this.disableLongerQueryCacheHit||!this._firstSeenOnValue[ea]||this._firstSeenOnValue[ea].length<=n.length))o.push(ea);}this.sortHits(n,o);return this.renderNodes(n,o);};m.prototype.checkFragmentMatches=function(n,o,p,q){'use strict';return n.substr(0,o.length)===o;};m.prototype.matchResults=function(n){'use strict';var o=this.getMatchedResults(n);this.invoke('resultsready',o);this.invoke('complete');};m.prototype.sortHits=function(n,o){'use strict';var p=[],q;for(q=0;q<o.length;q++)p.push(this._raw[o[q]]);var r=function t(u,v){var w=u.sort||u.name,x=v.sort||v.name;return w.localeCompare(x);},s=this.getSortHandler()||function(t,u,v){u.sort(v);};s.call(this,n,p,r);o.splice(0,o.length);for(q=0;q<p.length;q++)o.push(p[q].id);};m.prototype.renderNodes=function(n,o){'use strict';var p=Math.min(this.getMaximumResultCount(),o.length),q=[];for(var r=0;r<p;r++)if(o[r] in this._raw){var s=this._raw[o[r]];if(!this.reactRendered)s=this.createNode(s);q.push(s);}return q;};m.prototype.createNode=function(n){'use strict';return h.create('a',{sigil:'typeahead-result',href:n.uri,name:n.name,rel:n.id,className:'jx-result'},n.display);};m.prototype.normalize=function(n){'use strict';return this.getNormalizer()(n);};m.prototype.tokenize=function(n){'use strict';n=this.normalize(n);if(!n.length)return [];return n.split(/\s/g);};m.prototype._defaultTransformer=function(n){'use strict';return {name:n[0],display:n[0],uri:n[1],id:n[2]};};k(m,['waiting','resultsready','complete','after_complete','initial_render','initial_results_ready','req_dispatch','req_sent','req_recv','unlock_render']);j(m,{normalizer:null,queryExtractor:null,transformer:null,maximumResultCount:5,sortHandler:null});Object.assign(m.prototype,{_raw:null,_lookup:null,_firstOnValue:null,_excludeIDs:null,_changeListener:null,_startListener:null,_clearListener:null,reactRendered:false});f.exports=m;}),null);
__d('TypeaheadOnDemandSource',['setTimeoutAcrossTransitions','TypeaheadSource','createDeprecatedProperties'],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,i);l=k&&k.prototype;function m(n,o){'use strict';l.constructor.call(this,o);this.uri=n;this.haveData={'':true};}m.prototype.didChange=function(n){'use strict';this.lastChange=Date.now();n=this.normalize(n);if(this.haveData[n]){this.matchResults(n);}else{this.waitForResults();h(this.sendRequest.bind(this,this.lastChange,n),this.getQueryDelay());}};m.prototype.sendRequest=function(){'use strict';throw new Error('Use MTypeaheadOnDemandSource!');};m.prototype.ondata=function(n,o,p){'use strict';if(p)for(var q=0;q<p.length;q++)this.addResult(p[q],o);this.haveData[o]=true;if(n!=this.lastChange)return;this.matchResults(o);};m.prototype.clearCache=function(){'use strict';l.clearCache.call(this);this.haveData={'':true};};j(m,{queryDelay:125,auxiliaryData:{}});Object.assign(m.prototype,{uri:null,lastChange:null,haveData:null});f.exports=m;}),null);
__d('TypeaheadCompositeSource',['TypeaheadSource','TypeaheadOnDemandSource','isElementNode'],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(n,o){'use strict';l.constructor.call(this);o=o||{};this.sources=n;this.cacheSourceCount=n.length;this.isWorkUser=o.isWorkUser;this.delayRender=false;this.allowEmptyMergeKey=true;this.shouldMergeResults=true;for(var p=0;p<this.sources.length;++p){var q=this.sources[p];q.listen('waiting',this.childWaiting.bind(this));q.listen('resultsready',this.childResultsReady.bind(this));q.listen('complete',this.childComplete.bind(this));if(q instanceof i){q.listen('req_dispatch',this.childRequestDispatch.bind(this));q.listen('req_sent',this.childRequestSent.bind(this));q.listen('req_recv',this.childRequestReceived.bind(this));q.listen('unlock_render',this.startRender.bind(this));if(q.enableImmediateReturnOfCachedResults===false)--this.cacheSourceCount;if(q.enableEagerSendRequest)this.delayRender=true;this.listen('initial_results_ready',q.setCacheResultsLength.bind(q));}}}m.prototype.didChange=function(n){'use strict';this.results=[];this.completeCount=0;this.readyCount=0;this.lockRender=true;for(var o=0;o<this.sources.length;++o)this.sources[o].didChange(n);};m.prototype.didStart=function(){'use strict';for(var n=0;n<this.sources.length;++n)this.sources[n].didStart();};m.prototype.didClear=function(){'use strict';this.results=[];};m.prototype.addExcludeID=function(n){'use strict';for(var o=0;o<this.sources.length;++o)this.sources[o].addExcludeID(n);};m.prototype.removeExcludeID=function(n){'use strict';for(var o=0;o<this.sources.length;++o)this.sources[o].removeExcludeID(n);};m.prototype.childWaiting=function(){'use strict';if(!this.results||!this.results.length)this.invoke('waiting');};m.prototype.childResultsReady=function(n){'use strict';if(this.shouldMergeResults){this.results=this.mergeResults(this.results||[],n);}else this.results=n;++this.readyCount;if(this.readyCount==this.cacheSourceCount){if(this.results!==null)this.results.forEach(function(o){o.isFromCache=true;});this.invoke('initial_results_ready',this.countValidResults(this.results));}if(!this.delayRender||!this.lockRender){this.invoke('resultsready',this.results);if(this.readyCount==this.cacheSourceCount)this.invoke('initial_render');}};m.prototype.childComplete=function(){'use strict';this.completeCount++;if(this.completeCount==this.sources.length){this.invoke('complete');this.invoke('after_complete');}};m.prototype.childRequestDispatch=function(n){'use strict';this.invoke('req_dispatch',n);};m.prototype.childRequestSent=function(){'use strict';this.invoke('req_sent');};m.prototype.childRequestReceived=function(n){'use strict';this.invoke('req_recv',n);};m.prototype.startRender=function(){'use strict';this.lockRender=false;this.invoke('resultsready',this.results);this.invoke('initial_render');};m.prototype.countValidResults=function(n){'use strict';var o=0;n.forEach(function(p){var q=j(p)?p.getAttribute(this.mergeKey):p[this.mergeKey];if(q!=null)++o;},this);return o;};m.prototype.getResult=function(n){'use strict';var o;for(var p=0;p<this.sources.length;++p){o=this.sources[p].getResult(n);if(o!==undefined)break;}return o;};m.prototype.disableEmptyMergeKey=function(){'use strict';this.allowEmptyMergeKey=false;};m.prototype.mergeResults=function(n,o){'use strict';var p=[].concat(n);if(o.length===0)return p;var q={},r;for(r=0;r<n.length;++r){var s=n[r],t=j(s)?s.getAttribute(this.mergeKey):s[this.mergeKey];q[t]=true;}for(r=0;r<o.length;++r){var u=o[r],v=j(u)?u.getAttribute(this.mergeKey):u[this.mergeKey];if((this.allowEmptyMergeKey||v!=null)&&!(v in q))p.push(u);}return p;};m.prototype.setShouldMergeResults=function(n){'use strict';this.shouldMergeResults=n;};Object.assign(m.prototype,{sources:null,results:null,completeCount:0,mergeKey:'rel',isWorkUser:false});f.exports=m;}),null);
__d('TypeaheadPreloadedSource',['TypeaheadSource'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this);this.uri=l;}k.prototype.didChange=function(l){'use strict';if(this.ready){this.matchResults(l);}else{this.lastValue=l;this.waitForResults();}};k.prototype.didStart=function(){'use strict';throw new Error('Use MTypeaheadPreloadedSource!');};k.prototype.ondata=function(l){'use strict';for(var m=0;m<l.length;++m)this.addResult(l[m]);if(this.lastValue!==null)this.matchResults(this.lastValue);this.ready=true;};Object.assign(k.prototype,{ready:false,uri:null,lastValue:null});f.exports=k;}),null);
__d('MDynaTemplate',['HTML','ex'],(function a(b,c,d,e,f,g,h,i){var j={_otag:'[[',_regexOtag:'\\[\\[',_regexCtag:'\\]\\]',_regexTag:0,_regexNewTag:0,_templates:{},_alias:{},_contains:function k(l,m){return m.indexOf(j._otag+l)!=-1;},_escapeChar:function k(l){switch(l){case "&":return "&amp;";case '"':return '&quot;';case "'":return '&#39;';case "<":return "&lt;";case ">":return "&gt;";default:return l;}},_escape:function k(l){l=l===null?'':''+l;return l.replace(/&(?!\w+;)|["'<>]/g,j._escapeChar);},registerTemplates:function k(l){for(var m in l){var n=l[m];j._alias[n[0]]=n[1];j._templates[m]=n[1];}},renderToHtml:function k(l,m){if(l.charAt(0)=='@')return j.renderToHtml(j._alias[l.substring(1)],m);if(j._contains('#',l)||j._contains('^',l))l=l.replace(j._regexTag,function(n,o,p,q){var r=m[p];r=r&&r.__html!==undefined?r.__html:r;if(o=='^'){if(!r||Array.isArray(r)&&r.length===0){return j.renderToHtml(q,m);}else return '';}else if(o=='#'){if(Array.isArray(r)){var s=[];for(var t=0;t<r.length;t++)s.push(j.renderToHtml(q,r[t]));return s.join('');}else if(r&&typeof r=='object'){return j.renderToHtml(q,r);}else if(!(typeof r=='function'))if(r)return j.renderToHtml(q,m);return '';}});if(!j._contains('',l))return l;return l.replace(j._regexNewTag,function(n,o,p){p=p.replace(/^\s*|\s*$/g,'');var q=m[p];if(!q||Array.isArray(q)&&q.length===0)return '';switch(o){case '>':if(q[0].charAt(0)=='@'){return j.renderToHtml(q[0],q[1]);}else if(!(q[0] in j._templates))return '';return j.renderToHtml(j._templates[q[0]],q[1]);case '%':break;default:if(window.HTML&&q instanceof h)return q.toString();return q.__html!==undefined?q.__html:j._escape(q);}});}};(function(){j._regexTag=new RegExp(j._regexOtag+'(\\^|\\#)\\s*(.+)\\s*'+j._regexCtag+'\n*([\\s\\S]+?)'+j._regexOtag+'\\/\\s*\\2\\s*'+j._regexCtag+'\\s*','mg');j._regexNewTag=new RegExp(j._regexOtag+'(>|\\[|%)?([^\\/#\\^]+?)\\1?'+j._regexCtag+'+','g');})();f.exports=j;}),null);
__d('MEntstreamViewportTracking',['Banzai','DOM','FBFeedLocations','FBJSON','MViewport','MViewportTracking','StratcomManager','Vector'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p,q,r=51;p=babelHelpers.inherits(s,m);q=p&&p.prototype;s.init=function(t){n.enableDispatch(document,'scroll');new s().init(t);};s.prototype.getDataFromConfig=function(t){this.isLoose=true;this.isTimeTrackingEnabled=!!t.vpvd_logging;this.shouldWaterfallLogging=!!t.should_waterfall_logging;};s.prototype.__getStreamRoot=function(){if(!this.$MEntstreamViewportTracking1)this.$MEntstreamViewportTracking1=document.getElementById('root');return this.$MEntstreamViewportTracking1;};s.prototype.getFBFeedLocation=function(){return j.NEWSFEED;};s.prototype.getAllStories=function(){return i.scry(this.__getStreamRoot(),'article','story-div');};s.prototype.getTimeout=function(){return 300;};s.prototype.getDataToLog=function(t){var u=Object.assign(k.parse(t.getAttribute('data-ft'),f.id),{evt:r}),v,w,x;if('getBoundingClientRect' in t){v=t.getBoundingClientRect();w=v.height;x=v.top+l.getScrollTop();}else{w=o.getDim(t).y;x=o.getPos(t).y;}u.evt_value=w;u.offset=x;u.story_height=w;u.impression_type=l.isLandscape()?'landscape':'portrait';if(this.shouldWaterfallLogging){u.should_waterfall_logging=1;u['interface']='m_touch';}return u;};s.prototype.getWaterfallData=function(t,u){var v=this.getDataToLog(t);v.step=u;return v;};s.prototype.getStoryID=function(t){var u=t.getAttribute('data-ft');if(!u)return null;return k.parse(u,f.id).mf_story_key;};s.prototype.sendDataToLog=function(t){h.post('feed_tracking',{ft:t});};function s(){p.apply(this,arguments);}f.exports=s;}),null);
__d('MPhotoStage',['setTimeoutAcrossTransitions','CSS','cx','DOM','Stratcom','Vector','MLegacyDataStore','MURI','MRequest','MViewport','MInputFocus','MJSEnvironment','prefetchImage'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=false,v='photo-stage',w='photo-image',x='facebox',y='new-tag-placeholder',z='photos-input-tag',aa='photo-tag-loading',ba='popup-nub',ca='tokenizer-input',da='transfer-focus-container',ea=2000,fa=200,ga=null,ha=null,ia=null,ja=null;function ka(sa,ta,ua){var va=0,wa=q.getUseableWidth();if(ua>wa){va=ua-wa;}else if(ta<0)va=ta;if(va===0)return sa;return new m(sa.x-va,sa.y);}function la(sa){if(!sa)return;i.conditionClass(sa,"_57-n",!!ia);if(ia){clearTimeout(ia);ia=null;}else ia=h(function(){la(sa);},ea);}function ma(){ga=null;while(ja.length)ja.pop().remove();u=false;if(ia){clearTimeout(ia);ia=null;}}function na(sa){var ta=m.getPos(sa),ua=m.getDim(sa),va=m.getPos(ga),wa=new m(ta.x+ua.x/2,ta.y+ua.x-va.y),xa=k.find(ga,'*',aa);wa.setPos(xa);k.show(xa);}function oa(sa,ta,ua){var va=new o(sa.write_tag_uri);va.addQueryData('id',sa.owner_id);va.addQueryData('facebox_id',ta.facebox_id);va.addQueryData('replace_id',y);va.addQueryData('sd_source',sa.source);va.addQueryData('sd_set',sa.set);var wa={};wa['ids['+ua+']']=ua;wa['x['+ua+']']=ta.facebox_center.x;wa['y['+ua+']']=ta.facebox_center.y;var xa=new p(va.normalize().toString()).addData(wa);return xa;}function pa(sa,ta){ha=sa;var ua=k.find(ga,'*',z),va=m.getPos(ga),wa=m.getPos(sa),xa=m.getDim(sa),ya=new m(wa.x+xa.x/2,wa.y+xa.y-va.y),za=ka(ya,ya.x-fa/2,ya.x+fa/2),ab=k.find(ua,'*',ba);ab.style.left=ya.x-za.x+"px";var bb=n.get(ha);if(bb.suggestions)ta.tokenizer.updateSuggestionsIds(bb.suggestions);za.setPos(ua);k.show(ua);var cb=k.find(ua,'*',ca);cb.focus();r.scrollTo(cb,wa.y);if(ia){clearTimeout(ia);ia=null;}}function qa(sa){var ta=k.find(ga,'*',z);if(ha){var ua=n.get(ha),va=n.get(ga),wa=oa(va,ua,sa);na(ha);wa.listen('finally',function(){var xa=k.find(ga,'*',aa);k.hide(xa);la(ga);});wa.send();k.hide(ha);k.hide(ta);k.find(ta,'*',ca).blur();ha=null;}ia=h(function(){la(ga);},ea);}var ra=function sa(ta,ua){if(u)return;ga=ta;u=true;var va='touchend';if(s.IS_ANDROID)va='click';if(ua&&ua.use_faceboxes){ja=[l.listen(va,v,function(event){if(ha){var xa=k.find(ga,'*',z);k.find(xa,'*',ca).blur();k.hide(xa);ha=null;event.kill();}else la(event.getNode(v));}),l.listen(va,x,function(event){var xa=k.find(ga,'*',da),ya=event.getNode(x);pa(ya,xa);event.kill();}),l.listen(va,da,function(event){var xa=event.getNode(da),ya=k.find(xa,'*',ca);ya.focus();if(ha)r.scrollTo(ya,m.getPos(ha).y);event.kill();}),l.listen('Tokenizer-addedtoken',null,function(event){qa(event.getData().rel);})];}else ja=[l.listen('touchend',v,function(event){la(event.getNode(v));})];ja.push(l.listen('m:page:unload',null,ma));var wa=k.scry(ga,'*',w);if(wa.length>0&&n.get(wa[0]).imgsrc){t(n.get(wa[0]).imgsrc,function(){return la(ga);});}else la(ga);};g.main=ra;}),null);
__d('MMultiPhotoUploaderAttachmentState',[],(function a(b,c,d,e,f,g){var h={SENDING:'sending',UPLOADED:'uploaded',ERROR:'error'};h.getDefaultState=function(){var i={};for(var j in h){if(!h.hasOwnProperty(j)||typeof h[j]!=='string')continue;i[h[j]]=0;}return i;};f.exports=h;}),null);
__d("XUFIReactionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/reaction\/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:false},on_demand_content_time_offset:{type:"Int"},live_content_time_offset:{type:"Int"},aftercursor:{type:"String"},tab:{type:"String"},av:{type:"Int"},_ft_:{type:"String"}});}),null);
__d('MReactionsFlyout',['ActorURI','BanzaiLogger','CSS','MLegacyDataStore','DOM','MLiveData','MParent','MUFIConfig','MUFIReactionsUtils','MUFIRequest','Stratcom','TouchEventType','SubscriptionsHandler','XUFIReactionController','URI','cx','fbt'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){var y=[1,2,4,3,7,8],z=17;function aa(da){'use strict';ba.call(this);this.flyout=da;this.active=null;this.canScroll=true;this.canScrub=false;this.clickCaptureListener=null;this.preventScrollTimeout=null;this.longpressTimeout=null;this.nuxTooltip=null;this.overlay=null;this.reactionElements=document.getElementsByClassName("_1-kd");this.timing={};this.touchStartX=0;this.isUpdatedDock=o.hasUpdatedDock;this.pageSubscriptions=new t();this.flyoutSubscriptions=new t();this.pageSubscriptions.addSubscriptions(da.addListener('hide',this.onHide),r.listen('m:page:unload',null,this.onUnload),r.listen('m:viewport:orientation-change',null,this.onHide),r.listen(s.END,null,this.onWindowTouchEnd),r.listen(s.START,'like-reaction-flyout',this.onTouchStart),r.listen('click','screenreader-reactions-trigger',this.onScreenReaderTrigger));if(o.hasIEMobileFixes){this.pageSubscriptions.addSubscriptions(r.listen('touchcancel',null,this.onWindowTouchEnd));}else this.pageSubscriptions.addSubscriptions(r.listen('touchmove',null,this.onWindowTouchMove));}aa.prototype.setupFlyout=function(da,ea){'use strict';var fa=k.get(ea);da.setContext(ea);this.setSupported();var ga=this.nuxTooltip;if(ga)ga.hide();var ha=da.getContentRoot(),ia=n.bySigil(ha,'m-layer-root');if(ia){if(this.isUpdatedDock&&!fa.isComment){this.applyMultilineFlyout();j.addClass(ia,"_5xt_");}if(fa.isComment)j.addClass(ia,"_31rl");}da.show();this.createUFIOverlay();this.isUpdatedDock||fa.isComment?this.showOverlay(this.overlay.tap):this.showOverlay(this.overlay.dots);this.flyoutSubscriptions.addSubscriptions(r.listen('click','reaction-item',this.onClick),r.listenCapture('click','like-reaction-flyout',this.onClickCapture),r.listenCapture('click',null,this.onWindowClick));if(!o.hasIEMobileFixes)this.flyoutSubscriptions.addSubscriptions(r.listen('touchend','like-reaction-flyout',this.onTouchEnd),r.listen('touchend','reaction-item',this.onTouchEnd),r.listen('touchmove','like-reaction-flyout',this.onTouchMove),r.listen('touchmove','reaction-item',this.onTouchMove));};aa.prototype.select=function(da){'use strict';var ea=this.flyout;ea.hide();var fa=k.get(da),ga=fa.reaction,ha=ea.getContext(),ia=k.get(ha),ja=ia.feedbackTarget,ka=ia.isComment,la=m.get(ja).getData();if(la.viewerreaction===ga)return;if(ka){var ma=q.getURI(ha.getAttribute('href'));ma.addQueryData('reaction_comment_id',ja.split('_')[1]);ma.addQueryData('viewer_reaction',ga);q.send(ja,p.getReactionDataForComment(la,ga),ma);}else{var na,oa=la.actor_for_post;if(oa!==0&&!oa)oa=null;var pa=n.bySigil(ha,'story-div');q.send(ja,p.getReactionData(la,ga,oa),u.getURIBuilder().getURI(),(na={},na[h.PARAMETER_ACTOR]=oa,na._ft_=pa?k.get(pa).linkdata:null,na.ft_ent_identifier=ja,na.reaction_type=ga,na.feedback_source=new v(ha.getAttribute('data-uri')).getQueryData().feedback_source,na));}};aa.prototype.onClickCapture=function(event){'use strict';event.stop();};aa.prototype.removeActive=function(){'use strict';var da=this.active;if(da){this.active=null;da.removeAttribute('data-active');}};aa.prototype.applyMultilineFlyout=function(){'use strict';var da=this.flyout,ea=da.getContext(),fa=n.bySigil(ea,'mufi-inline'),ga=da.getContentRoot(),ha=l.scry(fa,'div','reactions-bling-bar');if(ha.length==0){j.addClass(ga,"_5xu1");return;}var ia=ha[0].getBoundingClientRect().height;if(ia>z){j.addClass(ga,"_5xu0");}else if(ia<z){j.addClass(ga,"_5xu1");}else{j.removeClass(ga,"_5xu0");j.removeClass(ga,"_5xu1");}};aa.prototype.showOverlay=function(da){'use strict';var ea=this.overlay;if(ea){j.show(da);for(var fa in ea){var ga=ea[fa];if(ga!=da&&ga!=ea.container)j.hide(ga);}}};aa.prototype.log=function(da){'use strict';var ea=m.get(k.get(this.flyout.getContext()).feedbackTarget).getData(),fa=ea.ft_ent_identifier,ga=ea.viewerreaction,ha=this.timing,ia=ha.touchEndTime,ja=ha.touchStartTime,ka=ia-ja;i.log('UserReactionsLoggerConfig',{feedback_id:fa,final_reaction:da.finalReaction||ga,initial_reaction:ga,'interface':'mTouch',long_press_duration:ka>0?ka:0,time_spent:Date.now()-ha.shownTime,via_scrubbing:da.viaScrubbing});};aa.prototype.createUFIOverlay=function(){'use strict';var da=this.flyout.getContext(),ea=k.get(da),fa=ea.feedbackTarget,ga=ea.isComment,ha=m.get(fa).getData().supportedreactions||y,ia=document.createElement('div');ia.style.display='none';ia.className="_403o";var ja=Math.round(ha.length*1.3);for(var ka=0;ka<ja;++ka){var la=document.createElement('div');la.className="_403p";ia.appendChild(la).className="_403p";}var ma=document.createElement('div');ma.style.display='none';ma.className="_5xu2";ma.textContent=x._("Tap to Pick Your Reaction");var na=document.createElement('div');na.style.display='none';na.className="_5xu2";na.textContent=x._("Slide Finger Across");var oa=document.createElement('div');oa.style.display='none';oa.className="_5xu2";oa.textContent=x._("Release to Cancel");var pa=document.createElement('div');pa.className="_403n";if(ga)j.addClass(pa,"_31ru");pa.appendChild(ia);pa.appendChild(oa);if(this.isUpdatedDock||ga){pa.appendChild(ma);pa.appendChild(na);}var qa=n.bySigil(da,'ufi-inline-actions');if(!qa)qa=n.bySigil(da,'ufi-inline-comment-actions');qa.insertBefore(pa,qa.firstChild);this.overlay={container:pa,tap:ma,slide:na,release:oa,dots:ia};};aa.prototype.removeUFIOverlay=function(){'use strict';var da=this.overlay;if(da){var ea=da.container;ea.parentNode.removeChild(ea);this.overlay=null;}};aa.prototype.setSupported=function(){'use strict';var da=k.get(this.flyout.getContext()),ea=m.get(da.feedbackTarget).getData().supportedreactions||y,fa=this.reactionElements;for(var ga=0,ha=fa.length;ga<ha;++ga){var ia=fa[ga],ja=k.get(ia),ka=ja.reaction;j.conditionShow(ia,ea.indexOf(ka)>=0);}};var ba=function da(){this.onUnload=function(){this.onHide();this.pageSubscriptions.release();this.pageSubscriptions=null;}.bind(this);this.onClick=function(event){this.select(event.getNode('reaction-item'));}.bind(this);this.onScreenReaderTrigger=function(event){var ea=event.getTarget().previousSibling;if(!ea)return;this.flyout.setContext(ea);this.setSupported();this.flyout.show();this.flyoutSubscriptions.addSubscriptions(r.listen('click','reaction-item',this.onClick));var fa=m.get(k.get(this.flyout.getContext()).feedbackTarget).getData(),ga=fa.viewerreaction,ha=null;for(var ia=0,ja=this.reactionElements.length;ia<ja;ia++){var ka=k.get(this.reactionElements[ia]),la=ka.reaction;if(la===ga)ha=this.reactionElements[ia];}if(!ha)ha=this.reactionElements[0];ha.focus();}.bind(this);this.onTouchStart=function(event){var ea=this.flyout;if(!ea.isShown()){this.touchStartX=event.getTouch().clientX;this.timing.touchStartTime=Date.now();this.preventScrollTimeout=setTimeout(function(){this.canScroll=false;}.bind(this),200);this.longpressTimeout=setTimeout(function(){this.timing.shownTime=Date.now();var fa=event.getTarget();this.setupFlyout(ea,fa);}.bind(this),300);}}.bind(this);this.onTouchMove=function(event){var ea=this.flyout,fa=k.get(ea.getContext()),ga=fa.isComment;if(!this.canScroll)ga?event.kill():event.prevent();var ha=event.getRawEvent().touches[0],ia=ha.clientX,ja=ha.clientY,ka=document.elementFromPoint(ia,ja);if(ka){var la=ka.nodeName==='I';if(!(la||this.canScrub)){this.canScrub=Math.abs(this.touchStartX-ia)>=25;return;}ea.getContentRoot().setAttribute('data-longpress',true);if(ea.getContentRoot().contains(ka)){if(la)ka=ka.parentNode.parentNode;if(this.active!==ka&&k.get(ka).reaction){this.isUpdatedDock||ga?this.showOverlay(this.overlay.slide):this.showOverlay(this.overlay.dots);this.removeActive();this.active=ka;ka.setAttribute('data-active',true);}}else if(!this.overlay||!this.overlay.container.contains(ka)){this.removeActive();this.showOverlay(this.overlay.release);}}}.bind(this);this.onTouchEnd=function(event){var ea=this.active;if(ea){this.log({finalReaction:k.get(ea).reaction,viaScrubbing:true});this.select(ea);}else{var fa=event.getTouch(),ga=fa.clientX,ha=fa.clientY,ia=document.elementFromPoint(ga,ha),ja=this.flyout;if(ia&&!(ja.getContentRoot().contains(ia)||ja.getContext().contains(ia)||this.overlay&&this.overlay.container.contains(ia)))ja.hide();}}.bind(this);this.onWindowClick=function(event){var ea=void 0,fa=event.getNode('reaction-item');if(fa)ea=k.get(fa).reaction;this.log({finalReaction:ea,viaScrubbing:false});}.bind(this);this.onWindowTouchEnd=function(){var ea=this.flyout;if(ea.isShown()){this.timing.touchEndTime=Date.now();ea.getContentRoot().removeAttribute('data-longpress');}else{this.canScroll=true;clearTimeout(this.longpressTimeout);clearTimeout(this.preventScrollTimeout);}}.bind(this);this.onHide=function(){this.canScroll=true;this.canScrub=false;this.removeActive();this.removeUFIOverlay();this.flyoutSubscriptions.release();this.flyoutSubscriptions=new t();}.bind(this);this.onWindowTouchMove=function(){if(!this.flyout.isShown()){this.canScroll=true;clearTimeout(this.longpressTimeout);clearTimeout(this.preventScrollTimeout);}}.bind(this);this.setNUXTooltip=function(ea){this.nuxTooltip=ea;}.bind(this);},ca=void 0;f.exports={init:function da(ea){ca=new aa(ea);},initNUX:function da(ea){if(ca)ca.setNUXTooltip(ea);}};}),null);
__d('MTouchAfro',['CSS','MLegacyDataStore','DOM','MModalDialog','MRequest','MXUIDiv.react','Parent','React','ReactDOM','Set','Stratcom','URI','$','csx','cx','fbt','ge','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z=null,aa=null,ba=null,ca=null,da={renderNFXReport:function ea(fa,ga){y(function(){h.hide(fa);da.openDialog(ga);},500);},initUndoHide:function ea(){if(z!==null)return;z=r.listen('click','afro-undo-hide',function(fa){var ga=fa.getNode('undo-content'),ha=i.get(ga).storyDomID;j.hide(ga);j.show(t(ha));});r.listen('m:page:unload',null,function(){z.remove();r.removeCurrentListener();});},hideOriginalContent:function ea(fa){j.hide(t(fa));},initDoneListener:function ea(fa,ga){if(aa!==null)return;aa=r.listen('click','nfx-dialog-done',function(ha){if(fa){var ia=t(fa);if(ia){var ja=i.get(ia).enhancedAfro;if(ja)h.addClass(ia,"_2gft");}p.render(o.createElement(m,{padding:'large',fontshade:'medium',fontweight:'bold'},w._("Thanks for letting us know.")),t(fa));if(ga){var ka=x(ga);if(ka){j.remove(ka);h.removeClass(n.bySelector(t(fa),"._2b01"),"_2b01");}}}k.close();});r.listen('m:page:unload',null,function(){aa.remove();r.removeCurrentListener();});},showConfirmationPopup:function ea(fa,ga){var ha=confirm(fa);if(ha){var ia=new l(ga);ia.send();}},showInlineConfirmation:function ea(fa,ga){var ha=t(fa);j.hide(ha);j.insertAfter(ha,ga);var ia=j.scry(ga,'a','touchable');if(ia[0])ia[0].focus();},redirect:function ea(fa,ga){if(!ga){window.location=fa;}else{var ha=new l(fa);ha.send();}},redirectOnClick:function ea(fa,ga){r.listen('click',ga,function(ha){window.location=fa;});},openDialog:function ea(fa){k.open(fa);},openDialogOnClick:function ea(fa,ga){var ha=r.listen('click',ga,function(ia){k.open(fa);});r.listen('m:page:unload',null,function(){ha.remove();r.removeCurrentListener();});},initActionsTakenStore:function ea(){ca=false;if(ba!==null)return;ba=new q();var fa=r.listen('m-nfx-action-taken',null,function(ga){return ba.add(ga.getData());});r.listen('m:page:unload',null,function(){fa.remove();r.removeCurrentListener();});},clearActionsTakenStore:function ea(){ba=new q();},invokeActionTaken:function ea(fa){r.invoke('m-nfx-action-taken',null,fa);},checkActionAgainstStore:function ea(fa){var ga=i.get(fa),ha=false;ba.forEach(function(ia){if(ia.action===ga.action&&ia.label===ga.label)ha=true;});return ha;},addCancelButtonListener:function ea(fa){var ga=t('modalDialog');j.listen(ga,'click','dialog-cancel-button-alt',function(ha){ha.kill();if(ca){k.close();return;}ca=true;var ia=new s(fa);new l(ia).send();});},dialogLoadConfirmationScreenOnClick:function ea(fa,ga){j.listen(fa,'click',null,function(ha){ha.kill();if(ca){k.close();return;}ca=true;var ia=new s(ga);ia.addQueryData('g_actions',JSON.stringify(Array.from(ba)));new l(ia).send();});},logReportAdLinkClick:function ea(fa,ga){var ha=j.listen(fa,'click',null,function(){new l(ga).send();});r.listen('m:page:unload',null,function(){ha.remove();r.removeCurrentListener();});},setupWildeDoneButton:function ea(){window.addEventListener('fbActionButtonClick',function(){return window.__fbNative.close();});}};f.exports=da;}),null);
__d("XStoryChevronController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/story_chevron_menu\/",{feedobjects_identifiers:{type:"String"},feed_context:{type:"String"},chevron_button_id:{type:"String"},story_node_id:{type:"String"},zombie_story:{type:"String"},is_menu_registered:{type:"Bool",defaultValue:false},outer_story_token:{type:"String"}});}),null);
__d('MAsyncChevronMenu',['$','cx','CSS','requireWeak','BanzaiODS','MLegacyDataStore','DOM','MParent','MRequest','MTouchClick','Stratcom','SubscriptionsHandler','XStoryChevronController'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=null;k('MHideStoryActions',function(ia){return u=ia;});function v(ia){var ja=o.bySigil(ia,'story-popup-metadata');return ja;}var w;function x(){l.bumpEntityKey('mtouch_async_chevron','chevron_clicked');var ia=this.getCausalElement(),ja=m.get(ia),ka=v(ia),la=t.getURIBuilder().setBool('is_menu_registered',!!(u&&u.getActionBubble())).getURI(),ma=new p(la);j.show(aa);j.hide(ba);j.hide(ca);w=ka;ma.setMethod('POST');ma.setData({feedobjects_identifiers:ja.feedobjectsIdentifiers,feed_context:ja.feedContext,zombie_story:ja.zombieStoryURI?ja.zombieStoryURI:'',story_topic_feedback:ja.storyTopicFeedbackURI?ja.storyTopicFeedbackURI:'',story_node_id:ka.id,chevron_button_id:ia.id,outer_story_token:ja.outerStoryToken?ja.outerStoryToken:''});ma.listen('error',function(na){l.bumpEntityKey('mtouch_async_chevron','request_failed');j.hide(aa);if(na=='status=0'){l.bumpEntityKey('mtouch_async_chevron','request_failed_no_internet_connection');j.show(ba);j.hide(ca);}else{l.bumpEntityKey('mtouch_async_chevron','request_failed_server_side_error');j.show(ca);j.hide(ba);}});ma.listen('done',function(){l.bumpEntityKey('mtouch_async_chevron','request_done');});ma.send();}var y,z,aa,ba,ca;function da(){if(z){z.release();z=null;}y=null;aa=null;ba=null;ca=null;}function ea(ia){if(y){y.destroy();da();}y=ia;var ja=ia.getContentRoot();aa=n.find(ja,'div','loadingWrapper');ba=n.find(ja,'div','noConnectionWrapper');ca=n.find(ja,'div','requestErrorWrapper');z=new s('StoryChevronMenu');z.addSubscriptions(y.addListener('beforeshow',x,y),r.listen('m:page:unload',null,da),r.listen('m:story:action-bubble-initialized',null,function(ka){var la=ka.getData();if(la.menuNubID)fa(h(la.menuNubID),la.wasOpen);}));}function fa(ia,ja){if(!y.isShown()&&!ja||!u||!u.getActionBubble())return;y.hide();var ka=v(ia);if(w==ka){var la=ia.getElementsByClassName("_4s19")[0];q.click(la);}}function ga(ia,ja){n.replace(h(ja),ia);fa(ia);}function ha(ia){if(!w||w.id==ia){y.hide();w=null;}}f.exports={init:ea,replaceChevronTrigger:ga,closeLoadingFlyout:ha};}),null);
__d('TimezoneAutoset',['MRequest','Time'],(function a(b,c,d,e,f,g,h,i){var j,k=function l(m){if(j)return;j=true;if(!m.time||m.offset===undefined)return;var n=-i.getGMTOffset(m.time);if(m.forceUpdate||n!=m.offset)new h(m.uri).setMethod('POST').setData({offset:n,is_forced:m.forceUpdate}).send();};g.main=k;}),null);
__d("MImagePreloader",[],(function a(b,c,d,e,f,g){function h(i){for(var j=0;j<i.length;j++){var k=new Image();k.src=i[j];}}g.init=h;}),null);
__d('MLayerHideOnTouch',['Stratcom','TouchEventType'],(function a(b,c,d,e,f,g,h,i){function j(k){'use strict';this.$MLayerHideOnTouch1=null;this.$MLayerHideOnTouch2=k;}j.prototype.enable=function(){'use strict';this.$MLayerHideOnTouch1=[this.$MLayerHideOnTouch2.addListener('show',this.$MLayerHideOnTouch3.bind(this)),this.$MLayerHideOnTouch2.addListener('hide',this.$MLayerHideOnTouch4.bind(this))];if(this.$MLayerHideOnTouch2.isShown())this.$MLayerHideOnTouch3();};j.prototype.disable=function(){'use strict';this.$MLayerHideOnTouch4();while(this.$MLayerHideOnTouch1.length)this.$MLayerHideOnTouch1.pop().remove();this.$MLayerHideOnTouch1=null;};j.prototype.$MLayerHideOnTouch4=function(){'use strict';this.$MLayerHideOnTouch5&&this.$MLayerHideOnTouch5.remove();this.$MLayerHideOnTouch5=null;};j.prototype.$MLayerHideOnTouch3=function(){'use strict';this.$MLayerHideOnTouch5=h.listen(i.START,null,function(event){if(!this.$MLayerHideOnTouch2.getContentRoot().contains(event.getTarget())){this.$MLayerHideOnTouch2.hide();event.prevent();}}.bind(this));};f.exports=j;}),null);
__d('MLoadTimeOutBanner',[],(function a(b,c,d,e,f,g){function h(i){var j=document.getElementById(i);if(j)j.style.display='inherit';}g.init=function(i,j){setTimeout(h.bind(null,i),j);};}),null);
__d('MTextMetrics',['DOM','MJSEnvironment'],(function a(b,c,d,e,f,g,h,i){var j=3*2;function k(l){'use strict';this._node=l;this._shadow=this._cloneNode();this._offset=this._getOffset();}k.prototype._cloneNode=function(){'use strict';var l=this._getComputedStyle(),m=h.create('pre',{className:'textMetrics',style:k.defaultStyles});l&&k.clonedStyles.forEach(function(n){var o=n.replace(/([A-Z])/g,'-$1').toLowerCase();m.style[n]=l.getPropertyValue(o);});h.appendContent(document.body,m);return m;};k.prototype._getOffset=function(){'use strict';var l=this._getComputedStyle(),m=parseInt(l.paddingLeft,10)+parseInt(l.paddingRight,10)+parseInt(l.borderLeftWidth,10)+parseInt(l.borderRightWidth,10),n=parseInt(l.paddingTop,10)+parseInt(l.paddingBottom,10)+parseInt(l.borderTopWidth,10)+parseInt(l.borderBottomWidth,10);return {height:n,width:m};};k.prototype._getComputedStyle=function(){'use strict';if(window.getComputedStyle){return window.getComputedStyle(this._node,null);}else if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(this._node,null);};k.prototype.measure=function(){'use strict';var l=this._node,m=this._shadow,n=this._offset,o=i.IS_APPLE_WEBKIT_IOS?j:0;m.style.width=l.offsetWidth-n.width-o+'px';m.innerText=l.value+'\n';return {width:m.clientWidth+n.width,height:m.clientHeight+n.height};};k.prototype.destroy=function(){'use strict';h.remove(this._shadow);};Object.assign(k,{clonedStyles:['fontFamily','fontSize','fontStyle','fontWeight','lineHeight','minHeight','whiteSpace','width','wordWrap']});Object.assign(k.prototype,{_node:null,_shadow:null,_offset:null});f.exports=k;}),null);
__d('InitMTextMetrics',['setTimeoutAcrossTransitions','setIntervalAcrossTransitions','DOM','MLegacyDataStore','MTextMetrics','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o,p='expandable-textarea',q=function r(s){if(!o)u();if(n)return;n=true;function t(x){var y=new l(x),z={metrics:y,resizedInput:null,originalHeight:x.offsetHeight};k.set(x,z);}function u(){o=i(function(){var x=j.scry(document,'textarea',p);x.forEach(function(y){v(y);});},300);}function v(x,y){var z=k.get(x);if(!z.metrics)t(x);if(x.value==z.resizedInput)return;z.resizedInput=x.value;var aa=x.style.height;x.style.height=Math.max(0+z.metrics.measure().height,z.originalHeight)+'px';if(y&&aa!=x.style.height){var ba=x.value.substr(0,x.selectionStart).split("\n").length,ca=x.value.split("\n").length;if(ba===ca)h(function(){x.scrollIntoView(true);},100);}}function w(event){var x=event.getNode(p);v(x,true);}m.listen(['focus','blur','keypress','keydown','keyup','input'],p,w);m.listen('m:page:unload',null,function(){var x=j.scry(document,'textarea',p);x.forEach(function(y){var z=k.get(y);if(z.metrics){z.metrics.destroy();z.metrics=null;z.styleHeight=null;z.resizedInput=null;}});clearInterval(o);o=null;});};g.main=q;}),null);
__d('MTypeaheadCache',['MCache','URI'],(function a(b,c,d,e,f,g,h,i){var j='1',k=1209600000;function l(p){var q=h.getItem(p);if(!q||q.cacheVersion!==j){q={cacheVersion:j,cachedKeys:{}};h.setItem(p,q);}var r=q.cachedKeys,s=false,t=Date.now()-k;for(var u in r)if(r[u].time<t){s=true;delete r[u];}if(s)h.setItem(p,q);return q;}function m(p){return 'typeahead_'+p;}function n(p){var q=new i(p),r=q.getQueryData(),s=r.cacheBust;if(!s)q.addQueryData('noBust','');q.removeQueryData('cacheBust');var t=q.toString();return {cacheKey:t,busterToken:s};}var o={get:function p(q,r){var s=n(r),t=s.cacheKey,u=s.busterToken,v=l(m(q)).cachedKeys[t];if(v&&v.cacheBusterToken===u)return v.data;return null;},set:function p(q,r,s){var t=m(q),u=l(t),v=n(r),w=v.cacheKey,x=v.busterToken;u.cachedKeys[w]={cacheBusterToken:x,time:Date.now(),data:s};h.setItem(t,u);}};f.exports=o;}),null);
__d('MTypeaheadCachableSource',['MRequest','MTypeaheadCache','TypeaheadPreloadedSource','createDeprecatedProperties','eventsMixinDeprecated'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;m=babelHelpers.inherits(o,j);n=m&&m.prototype;function o(p,q){'use strict';n.constructor.call(this,p);this.sourceKey=q||null;}o.prototype.didStart=function(){'use strict';var p=this.ondata,q=o._bootstrapping;if(this.sourceKey){if(q[this.sourceKey]===true){o.listen('bootstrapped',function(s){s.source_key===this.sourceKey&&this.didStart();}.bind(this));return;}var r=i.get(this.sourceKey,this.uri);if(r){this.invoke('rawresultsready',r);p.call(this,r);return;}}if(this.uri)this.sendRequest();};o.prototype.sendRequest=function(){'use strict';var p=o._bootstrapping;p[this.sourceKey]=true;var q=new h(this.uri).setMethod('GET').setIgnoreErrors(true);q.listen('done',function(r){r=r.payload||r;for(var s=0;s<r.length;++s)r[s].bootstrap=1;if(this.sourceKey)i.set(this.sourceKey,this.uri,r);this.invoke('rawresultsready',r);this.ondata.call(this,r);delete p[this.sourceKey];this.invoke('bootstrapped',{source_key:this.sourceKey});}.bind(this));q.listen('finally',function(){delete p[this.sourceKey];}.bind(this));q.listen('open',function(){var r=q.getTransport();r.withCredentials=true;if(window.FW_ENABLED&&!this.getNofwheaders()){r.setRequestHeader('FB_FW','1');if(window.FB_FW_VERSION)r.setRequestHeader('FB_FW_VERSION',window.FB_FW_VERSION);if(window.FB_FW_DEVICE)r.setRequestHeader('FB_FW_DEVICE',window.FB_FW_DEVICE);}}.bind(this));if(this.getAuxiliaryData())q.setData(this.getAuxiliaryData());q.send();};l(o,['bootstrapped','rawresultsready']);k(o,{nofwheaders:false,showSecondaryAction:false,auxiliaryData:{}});Object.assign(o,{_bootstrapping:{}});Object.assign(o.prototype,{sourceKey:null});f.exports=o;}),null);
__d('MTypeaheadHelpers',['cx','CSS','DOM','MLegacyDataStore','fbt','HTML','MDynaTemplate','FWLoader'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o=c('FWLoader').FW,p=43,q=65536,r={getSecondaryAction:function s(t){if(t.action=='phone'){return this.getPhoneAction(t);}else if(t.action=='add_friend'){return this.getAddAction(t);}else if(t.action=='add_contact'){return this.getAddContactAction(t);}else if(t.action=='message')return this.getMessageAction(t);return null;},getPhoneAction:function s(t){if(!t.paths||!(t.paths.mobile||t.paths.sms))return null;var u=n.renderToHtml('@CallButtonTemplate',{call_uri:t.paths.mobile,call_style:t.paths.mobile?'':'display:none;',sms_uri:t.paths.sms,sms_style:t.paths.sms?'':'display:none;'});return new m(u);},getAddAction:function s(t){if(!t.paths||!t.paths[t.action])return null;return new m(t.paths[t.action]);},getAddContactAction:function s(t){if(!t.paths||!t.paths[t.action])return null;return t.paths[t.action];},getMessageAction:function s(t){var u=n.renderToHtml('@MessageButtonTemplate',{message_uri:t.paths.message});return new m(u);},determineIconSize:function s(t,u){var v=u.photoSize||p,w=u.photo,x=new Image(),y=function z(aa){var ba=this;if(aa.type==='load'){var ca=document.getElementById(ba.targetID);if(ca){if(ba.naturalWidth>v||ba.naturalHeight>v){var da=window.devicePixelRatio,ea=Math.round(ba.naturalHeight/da),fa=Math.round(ba.naturalWidth/da);ea=Math.min(ea,v);fa=Math.min(fa,v);ca.style.backgroundSize=fa<ea?fa+'px auto':'auto '+ea+'px';}ca.style.backgroundImage='url('+ba.src+')';}}ba.onload=null;ba.onerror=null;ba.targetID=null;};x.targetID=t;x.onload=y;x.onerror=y;x.src=w;},getI18NTypeMap:function s(t){var u={App:l._("App"),Event:l._("Event"),Group:l._("Group"),Page:l._("Page"),page:l._("page"),Place:l._("Place"),User:l._("User")};if(u[t])return u[t];return t;},createNode:function s(t,u){if(t instanceof HTMLElement)return t;var v=[];if(t.photo){var w=j.create('div',{className:'profile-icon'});v.push(w);this.determineIconSize(j.uniqID(w),t);}var x=[t.display];if(t.verified){x.push(t.verified);}else if(t.is_verified){var y=j.create('span',{className:"_56_f _5dzy _5dz_ _3twv badge"});x.push(y);}var z=j.create('i',{className:'img presence',sigil:'presence'},'');j.hide(z);x.push(z);var aa=j.create('span',{className:'mfsl'},x);v.push(aa);if(!t.photo)i.conditionClass(aa,'noimage',true);var ba=t.subtext;i.conditionClass(aa,'name',true);if(t.action!='add_friend')if(t.type&&t.type!='User')ba=ba?t.type+' '+String.fromCharCode(183)+' '+ba:this.getI18NTypeMap(t.type);if(ba)v.push(j.create('span',{className:'subtext mfss fcg'},ba));var ca={href:t.uri,name:t.name||t.display,className:'primary touchable',sigil:'touchable typeahead-result',rel:t.id};if(t.meta)ca.meta=t.meta;var da=j.create('a',ca,v),ea=JSON.stringify(t);if(!(ea.length>q))da.setAttribute('data-extra',ea);da.setAttribute('data-testid',t.id);if(t.weak_reference)da.setAttribute('weak_reference',true);if(t.renderType)da.setAttribute('renderType',t.renderType);if(window.FW_ENABLED&&o.isIOS())k.set(da,{nativeClick:true});if(t.bootstrap)k.set(da,{bootstrap:1});if(t.gender)k.set(da,{gender:t.gender});if(t.untranslatedType)k.set(da,{type:t.untranslatedType});if(t.openinnewtab)da.setAttribute('target','_blank');var fa=[da];if(u){var ga=this.getSecondaryAction(t);if(ga)fa.push(ga);}if(t.nativethirdpartyappicon)fa.push(new m(n.renderToHtml('@NativeThirdPartyAppIconTemplate')));var ha='jx-result';if(t.nativethirdpartyappicon||u&&this.getSecondaryAction(t))ha+=' hasSecondaryAction';if(t.action=='add_friend'&&t.addfriendtemplate)n.renderToHtml('@AddFriendLoadResourcesTemplate');return j.create('div',{className:ha,sigil:'jx-result'+(t.action=='add_friend'?' undoable-action':''),rel:t.id,renderType:t.renderType,type:t.untranslatedType,category:t.category},fa);}};f.exports=r;}),null);
__d('MTypeaheadOnDemandSource',['setTimeoutAcrossTransitions','MRequest','MTypeaheadHelpers','Stratcom','TypeaheadInternationalNormalizer','TypeaheadNormalizer','TypeaheadOnDemandSource','createDeprecatedProperties','throttle'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q,r;q=babelHelpers.inherits(s,n);r=q&&q.prototype;function s(t,u){'use strict';r.constructor.call(this,t,u);this.previousResults=null;this.setNormalizer(l.normalize);this.setSanitizer(m.normalize);this._allowFreeformEntry=false;this._cacheResultsLength=0;this._maxResults=1e+06;k.listen('m-typeahead-logger:new-session-id',null,function(v){this._sessionID=v.getData().sessionID;}.bind(this));}s.prototype.setAllowFreeformEntry=function(t){'use strict';this._allowFreeformEntry=t;};s.prototype.createNode=function(t){'use strict';return j.createNode(t,this.getShowSecondaryAction());};s.prototype.didChange=function(t){'use strict';this.lastChange=Date.now();var u=this.getSanitizer()(t);if(this.haveData[u]){var v=this.normalize(u),w=this.getMatchedResults(v);this.invoke('resultsready',w);if(this.enableEagerSendRequest)this.invoke('unlock_render');this.invoke('complete');}else{if(this.enableImmediateReturnOfCachedResults===true){this.previousResults=this.getMatchedResults(t);this.invoke('resultsready',this.previousResults);}else this.previousResults=null;if(this._cacheResultsLength>=this._maxResults){if(this.enableEagerSendRequest)this.invoke('unlock_render');this.invoke('complete');return;}if(!this.enableEagerSendRequest)this.waitForResults();this.invoke('req_dispatch',this._sessionID);if(this.throttleSendRequest){this.throttleSendRequest(this.lastChange,t);}else h(this.sendRequest.bind(this,this.lastChange,t),this.getQueryDelay());if(this.enableEagerSendRequest){this.invoke('unlock_render');this.waitForResults();}}};s.prototype.setEnableImmediateReturnOfCachedResults=function(t){'use strict';this.enableImmediateReturnOfCachedResults=t;};s.prototype.setEnableEagerSendRequest=function(t){'use strict';this.enableEagerSendRequest=t;};s.prototype.setThrottleSendRequest=function(t){'use strict';this.throttleSendRequest=p.acrossTransitionsWithBlocking(this.sendRequest.bind(this),t);};s.prototype.setCacheResultsLength=function(t){'use strict';this._cacheResultsLength=t;};s.prototype.setMaxResults=function(t){'use strict';this._maxResults=t;};s.prototype.sendRequest=function(t,u){'use strict';if(t!=this.lastChange)return;if(!this.uri)return;var v=new i(this.uri);v.setData(Object.assign(this.getAuxiliaryData()||{},{q:u,session_id:this._sessionID}));v.setMethod('GET');v.listen('done',function(w,x,y){this.ondata(w,x,y);}.bind(this,this.lastChange,u));v.send();this.invoke('req_sent');};s.prototype.ondata=function(t,u,v){'use strict';v=v.payload||v;this.invoke('req_recv',v?v.length:0);var w=0,x=0,y={};if(this.previousResults!=null){x=this.previousResults.length;for(w=0;w<this.previousResults.length;w++){var z=this.previousResults[w];z.idx=w;this._raw[z.id]=z;this.addToLookup(z.id,u);y[z.id]=z.id;}}if(v){if(v.length!==0){var aa;for(aa=0;aa<v.length;++aa)v[aa].idx=aa+x;for(aa=0;aa<v.length;aa++)if(!(v[aa].uid in y))this.addResult(v[aa],u);}else if(this._allowFreeformEntry)this.addResult({text:u,uid:0,path:'#'},u);this.haveData[u]=true;if(t!=this.lastChange)return;this.matchResults(u);}};s.prototype.addResult=function(t,u){'use strict';var v=this.addToLookup.bind(this);if(t.uid in this._raw)this._raw[t.uid].idx=t.idx;t=(this.getTransformer()||this._defaultTransformer)(t);this._firstSeenOnValue[t.id]=this._firstSeenOnValue[t.id]||u;if(!(t.id in this._raw)){this._raw[t.id]=t;v(t.id,t.name);v(t.id,u);}else{this._raw[t.id]=t;v(t.id,u);}};s.prototype.addToLookup=function(t,u){'use strict';var v=this.tokenize(u);for(var w=0;w<v.length;++w){this._lookup[v[w]]=this._lookup[v[w]]||[];this._lookup[v[w]].push(t);}};s.prototype.sortHits=function(t,u){'use strict';var v=function(w,x){var y=this._raw[w],z=isNaN(y.idx)?Number.MAX_VALUE:y.idx,aa=this._raw[x],ba=isNaN(aa.idx)?Number.MAX_VALUE:aa.idx;return z-ba;}.bind(this);u.sort(v);};s.prototype.renderNodes=function(t,u){'use strict';return n.prototype.renderNodes.apply(this,arguments);};s.prototype.clearCache=function(){'use strict';r.clearCache.call(this);this.previousResults=null;};o(s,{sanitizer:null,transformer:function t(u){return {name:u.text,uri:u.path,id:u.uid,photo:u.photo,display:u.display||u.text,action:u.action,paths:u.paths,permissions:u.permissions,photoSize:u.photo_size,type:u.type,openinnewtab:u.openinnewtab,subtext:u.text_only_subtext,nativethirdpartyappicon:u.nativethirdpartyappicon,idx:u.idx,renderType:u.render_type,untranslatedType:u.untranslated_type,verified:u.verified,weak_reference:u.weak_reference,geo_location_type:u.geo_location_type,city_id:u.city_id,city_text:u.city_text,isScoped:u.is_scoped,categoryID:u.cid,tagID:u.tid,category:u.category,location:u.location,street_address:u.street_address,postal_code:u.postal_code};},showSecondaryAction:true});f.exports=s;}),null);
__d('MTypeaheadTouchSource',['MTypeaheadCachableSource','MTypeaheadHelpers','TypeaheadInternationalNormalizer','createDeprecatedProperties'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;l=babelHelpers.inherits(n,h);m=l&&l.prototype;function n(o,p){'use strict';m.constructor.call(this,o,p);this.setNormalizer(j.normalize);}n.prototype.createNode=function(o){'use strict';return i.createNode(o,this.getShowSecondaryAction());};n.prototype.matchResults=function(o){'use strict';var p=this.normalize(o);h.prototype.matchResults.call(this,p);};n.prototype.ondata=function(o){'use strict';for(var p=0;p<o.length;++p)o[p].idx=p;h.prototype.ondata.apply(this,[o]);};k(n,{transformer:function o(p){var q=p.openinnewtab!=null?p.openinnewtab:p.type==='App';return {name:p.text,uri:p.path,id:p.uid,photo:p.photo,photoSize:p.photo_size,gender:p.gender,display:p.display||p.text,action:p.action,paths:p.paths,permissions:p.permissions,type:p.type,openinnewtab:q,subtext:p.subtext,nativethirdpartyappicon:p.nativethirdpartyappicon,bootstrap:p.bootstrap,idx:p.idx,tokenType:p.tokenType,renderType:p.render_type,untranslatedType:p.untranslated_type,weak_reference:p.weak_reference,is_verified:p.is_verified};},sortHandler:function o(p,q,r){var s=function t(u,v){var w=isNaN(u.idx)?Number.MAX_VALUE:u.idx,x=isNaN(v.idx)?Number.MAX_VALUE:v.idx;return w-x;};q.sort(s);}});f.exports=n;}),null);
__d('MTypeaheadTouchSourceWithSuggestions',['setTimeoutAcrossTransitions','MTypeaheadTouchSource','createDeprecatedProperties'],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,i);l=k&&k.prototype;function m(n,o,p){'use strict';l.constructor.call(this,n,o);this.setSuggestions(p);var q=[];for(var r=0;r<p.length;++r)q.push(p[r].uid);this.setSuggestionsIds(q);this.setDefaultSuggestionsIds(q);}m.prototype.didStart=function(){'use strict';i.prototype.didStart.call(this);h(function(){var n=this.renderNodes(null,this.getSuggestionsIds());this.invoke('resultsready',n);this.invoke('complete');}.bind(this),0);};m.prototype.matchResults=function(n){'use strict';if(n.length===0){var o=this.getSuggestionsIds();if(this.getSuggestionsIds().length===0)o=this.getDefaultSuggestionsIds();var p=this.renderNodes(null,o);this.invoke('resultsready',p);this.invoke('complete');}else i.prototype.matchResults.call(this,n);};j(m,{suggestions:[],suggestionsIds:[],defaultSuggestionsIds:[]});f.exports=m;}),null);
__d('MCommentActionsFlyout',['Bootloader','DOM','MLegacyDataStore','MModalDialog','MParent','MRequest','Stratcom','URI','MActionBubbleHelper'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q='ban_user_from_page_comment_sigil',r='editCommentSigil',s='deleteCommentSigil',t='deleteCommentAndBlockAuthorSigil',u='hideCommentSigil',v='reportCommentSigil',w='commentFlyoutSigil',x=false;function y(ia,ja,ka){var la=i.find(ia,'*',ja);p.toggleActionBubbleItem(la,ka);}function z(ia){var ja=l.bySigil(ia,'comment-metadata');return ja;}function aa(ia,ja){var ka=j.get(ja);ia.addQueryData('_ft_',ka.linkdata);}function ba(ia,ja){aa(ja,ia);var ka=new m(ja);ka.send();}function ca(ia,ja){k.open(ja);}function da(){var ia=z(this.getCausalElement()),ja=this.getRoot(),ka=j.get(ia);y(ja,r,!!ka.editCommentURI);y(ja,s,!!ka.deleteCommentURI);y(ja,t,!!ka.deleteCommentAndBlockAuthorURI);y(ja,u,!!ka.hideCommentURI);y(ja,v,!!ka.reportCommentURI);y(ja,q,!!ka.banUserFromPageURIParams&&!x);}function ea(ia){var ja=j.get(ia.getNode(w)),ka=z(ja.layer.getCausalElement()),la=j.get(ka);if(ia.getNode(r)){ba(ka,new o(la.editCommentURI));}else if(ia.getNode(s)){ba(ka,new o(la.deleteCommentURI));}else if(ia.getNode(t)){ba(ka,new o(la.deleteCommentAndBlockAuthorURI));}else if(ia.getNode(u)){ba(ka,new o(la.hideCommentURI));}else if(ia.getNode(v)){if(la.reportIsModalDialog){ca(ka,new o(la.reportCommentURI));}else ba(ka,new o(la.reportCommentURI));}else if(ia.getNode(q))if(la.banUserFromPageURIParams)h.loadModules(["MPagesBanUserUtils"],function(ma){ma.banUserFromPage(la.banUserFromPageURIParams.pageID,la.banUserFromPageURIParams.userID,la.banUserFromPageURIParams.userName,function(){x=true;});},'MCommentActionsFlyout');ja.layer.hide();ia.kill();}var fa,ga,ha=function ia(ja){if(fa)return;fa=ja;var ka=ja.getRoot();n.addSigil(ka,w);ga=[n.listen('m:page:unload',null,function(){while(ga.length>0)ga.pop().remove();fa=null;}),ja.addListener('beforeshow',da,ja),i.listen(ka,'click',null,ea)];};f.exports={registerFlyout:ha};}),null);
__d('MUFICommentActionLink',['DOM','MPageController','MUFIConfig','Stratcom','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';function m(n,o){var p;if(!j.canReactToComment)return;if(n.href)n.setAttribute('data-uri',n.href);n.removeAttribute('href');if(o)(function(){var q=new l();q.addSubscriptions(h.listen(n,'click',null,function(event){i.load(n.getAttribute('data-uri'));}),k.listen('m:page:unload',null,function(){q.release();}),k.listen('m:feed-ufi-flyout:reset',null,function(){q.release();}));})();}f.exports={init:m};}),null);
__d('MUFIComments',['Bootloader','MDeepCopy','MLiveData','MParent','MUFICommentsConfig','MViewport','Stratcom','SubscriptionsHandler','getActiveElement'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q='MSITE_COMMENT_TYPING_FUNNEL';function r(t){return t+'_mufiseencomments';}function s(t,u,v){this.$MUFIComments1=t;this.$MUFIComments2=r(u);this.$MUFIComments3=j.get(u);this.$MUFIComments5=false;this.$MUFIComments6=v;this.$MUFIComments7=false;this.$MUFIComments8=null;this.$MUFIComments9=null;this.$MUFIComments4=new o();this.$MUFIComments4.addSubscriptions(this.$MUFIComments3.listen('change',this.onChange.bind(this)),n.listen('m:page:unload',null,this.onUnload.bind(this)));this.$MUFIComments10(u);}s.prototype.$MUFIComments10=function(t){if(l.canShowTypingIndicators&&!k.bySigil(this.$MUFIComments1,'feed-ufi-comments'))h.loadModules(["MUFICommentTypingSubscriptionController","FunnelLogger"],function(u,v){var w=new u(t,function(x){this.$MUFIComments9=x;this.onLiveEventUpdate();}.bind(this));if(!w.didSubscribe())return;this.$MUFIComments7=true;this.$MUFIComments4.addSubscriptions(w);this.$MUFIComments8=v;v.startFunnel(q);}.bind(this),'MUFIComments');};s.prototype.onChange=function(){var t=this.$MUFIComments3.getData();if(t.request_id===this.$MUFIComments6||t.comments===undefined)return;this.$MUFIComments11(t.logging_interaction_key);};s.prototype.onLiveEventUpdate=function(){if(this.$MUFIComments7)this.$MUFIComments11();};s.prototype.$MUFIComments11=function(t){h.loadModules(["MReactComponentRenderer","MUFICommentList.react"],function(u,v){var w,x=this,y=this.$MUFIComments3.getData();y.showPillOnMount=true;y.seenCommentsCacheID=this.$MUFIComments2;y.comments=y.comments?i(y.comments):[];if(this.$MUFIComments7){var z=this.$MUFIComments9||{},aa=z.friendCount,ba=z.otherCount;y.isAnyLiveTyping=Math.max(ba,aa)>0;y.isFriendLiveTyping=aa>0;y.bootloadedFunnelLoggerModule=this.$MUFIComments8;}if(n.hasSigil(p(),'mufi-composer'))(function(){var ea=x.$MUFIComments1.offsetHeight;y.onDone=function(){m.scrollBy(0,this.$MUFIComments1.offsetHeight-ea);ea=this.$MUFIComments1.offsetHeight;}.bind(x);})();u(v,this.$MUFIComments1,y);var ca=y.logging_interaction_key,da=ca?[ca]:[];if(t&&t!==ca)da.push(t);n.invoke('m:ufi:live-comments:render',null,{ufi:k.bySigil(this.$MUFIComments1,'m-ufi'),logKeys:da});}.bind(this),'MUFIComments');if(!this.$MUFIComments5){this.$MUFIComments12();this.$MUFIComments5=true;}};s.prototype.$MUFIComments12=function(){this.$MUFIComments1.style.display='run-in';this.$MUFIComments1.offsetHeight;this.$MUFIComments1.style.display='block';};s.prototype.onUnload=function(){this.$MUFIComments4.release();this.$MUFIComments7=false;this.$MUFIComments9=null;};f.exports=s;}),null);
__d('MActionBubbleLayout',['CSS','cx'],(function a(b,c,d,e,f,g,h,i){function j(k){'use strict';this.$MActionBubbleLayout1=null;this.$MActionBubbleLayout2=k;}j.prototype.enable=function(){'use strict';this.$MActionBubbleLayout1=this.$MActionBubbleLayout2.addListener('adjustDimensions',this.$MActionBubbleLayout3.bind(this));if(this.$MActionBubbleLayout2.isShown())this.$MActionBubbleLayout2.updatePosition();};j.prototype.disable=function(){'use strict';this.$MActionBubbleLayout1.remove();this.$MActionBubbleLayout1=null;if(this.$MActionBubbleLayout2.isShown())this.$MActionBubbleLayout2.updatePosition();};j.prototype.$MActionBubbleLayout3=function(){'use strict';var k=this.$MActionBubbleLayout2;this.$MActionBubbleLayout4(true);var l=this.$MActionBubbleLayout2.getContentRoot();if(l.clientWidth>=k.getMaxWidth())this.$MActionBubbleLayout4(false);};j.prototype.$MActionBubbleLayout4=function(k){'use strict';var l=this.$MActionBubbleLayout2;l.setWidth(k?'auto':'wide');l.applyWidth();h.conditionClass(l.getRoot(),"_55i0",k);};f.exports=j;}),null);
__d("debounceCore",[],(function a(b,c,d,e,f,g){function h(i,j,k,l,m){l=l||setTimeout;m=m||clearTimeout;var n=void 0;function o(){for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];o.reset();var s=function t(){i.apply(k,q);};s.__SMmeta=i.__SMmeta;n=l(s,j);}o.reset=function(){m(n);};return o;}f.exports=h;}),null);
__d('ReactComponentRenderer',['React','ReactDOM','warning'],(function a(b,c,d,e,f,g,h,i,j){'use strict';function k(l,m){this.klass=l;this.container=m;this.props={};this.component=null;}k.prototype.replaceProps=function(l,m){this.props={};this.setProps(l,m);};k.prototype.setProps=function(l,m){if(this.klass==null)return;Object.assign(this.props,l);var n=h.createElement(this.klass,this.props);this.component=i.render(n,this.container,m);};k.prototype.unmount=function(){i.unmountComponentAtNode(this.container);this.klass=null;};f.exports=k;}),null);